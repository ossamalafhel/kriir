# Quarkus application configuration
quarkus.application.name=KRIIR-Platform

# Quarkus Reactive PostgreSQL configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.reactive=true
# Default URL (will be overridden by DevServices in test profile)
quarkus.datasource.reactive.url=postgresql://localhost:5432/kriir_db
quarkus.datasource.username=kriir
quarkus.datasource.password=kriir
quarkus.datasource.reactive.max-size=20
quarkus.datasource.reactive.min-size=10
quarkus.datasource.reactive.idle-timeout=PT30M

# Hibernate Reactive configuration
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true

# HTTP configuration
quarkus.http.port=8080
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:3000,http://localhost:3001
quarkus.http.cors.methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
quarkus.http.cors.headers=*
quarkus.http.cors.access-control-allow-credentials=true

# Health and metrics
quarkus.smallrye-health.ui.enable=true
quarkus.smallrye-metrics.extensions.enabled=true

# OpenAPI/Swagger configuration
quarkus.smallrye-openapi.path=/v3/api-docs
quarkus.swagger-ui.enable=true
quarkus.swagger-ui.path=/swagger-ui.html
quarkus.swagger-ui.always-include=true

# Logging configuration
quarkus.log.level=INFO
quarkus.log.category."com.kriir.platform".level=DEBUG

# Application specific properties
kriir.monitoring.incident-check-interval=PT10S
kriir.monitoring.asset-health-check-interval=PT30S

# Profile-specific configurations
%prod.quarkus.datasource.reactive.url=postgresql://${DATABASE_HOST:postgres}:${DATABASE_PORT:5432}/${DATABASE_NAME:kriir_db}
%prod.quarkus.datasource.username=${DATABASE_USER:kriir}
%prod.quarkus.datasource.password=${DATABASE_PASSWORD}
%prod.quarkus.http.port=${PORT:8080}
%prod.quarkus.log.level=WARN
%prod.quarkus.log.category."com.kriir.platform".level=INFO
%prod.quarkus.http.cors.origins=${CORS_ALLOWED_ORIGINS:https://kriir-platform.com}

%dev.quarkus.log.level=DEBUG
%dev.quarkus.log.category."com.kriir.platform".level=TRACE
%dev.quarkus.hibernate-orm.log.sql=true

# Test configuration is now handled entirely in src/test/resources/application.properties